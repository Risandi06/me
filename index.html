<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Input Nomor</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
  font-family:Arial,Helvetica,sans-serif;
  background:#f4f6f8;
  margin:0;
}
.container{
  max-width:420px;
  margin:60px auto;
  background:#fff;
  padding:25px;
  border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,.1);
}
h2{text-align:center;margin-bottom:20px}
input{
  width:100%;
  padding:14px;
  font-size:16px;
  border-radius:8px;
  border:1px solid #ddd;
}
button{
  width:100%;
  padding:14px;
  margin-top:12px;
  border:none;
  border-radius:8px;
  background:#2563eb;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}
.stats{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-top:20px;
}
.card{
  background:#f1f5f9;
  padding:10px;
  border-radius:8px;
  text-align:center;
}
.msg{
  margin-top:15px;
  text-align:center;
  font-weight:bold;
}
.success{color:green}
.warn{color:orange}
.error{color:red}
</style>
</head>
<body>

<div class="container">
  <h2>Input Nomor</h2>

  <input id="nomor" placeholder="Masukkan nomor / data">
  <button onclick="kirim()">Simpan</button>

  <div class="msg" id="msg"></div>

  <div class="stats">
    <div class="card"><div>Total</div><b id="total">0</b></div>
    <div class="card"><div>Hari Ini</div><b id="today">0</b></div>
    <div class="card"><div>Kemarin</div><b id="yesterday">0</b></div>
  </div>
</div>

<!-- FORM POST (ANTI CORS) -->
<form id="form" method="POST" target="hiddenFrame"
      action="https://script.google.com/macros/s/AKfycbxgt4lLkFF7zi3DrM21I7YRQxeFb9MQMlN-Ljrb886vsuM_-HlWSNC0au1xW5_aqfJL/exec">
  <input type="hidden" name="nomor" id="nomorHidden">
</form>
<iframe name="hiddenFrame" style="display:none"></iframe>

<script>
const API = "PASTE_URL_EXEC_DI_SINI";

function updateStats(d){
  total.textContent = d.total ?? 0;
  today.textContent = d.today ?? 0;
  yesterday.textContent = d.yesterday ?? 0;
}

function kirim(){
  const v = nomor.value.trim();
  if(!v){
    msg.textContent="Data kosong";
    msg.className="msg error";
    return;
  }

  nomorHidden.value = v;
  form.submit();

  msg.textContent="Data terkirim";
  msg.className="msg success";
  nomor.value="";

  setTimeout(loadStats,800);
}

function loadStats(){
  fetch(API)
    .then(r=>r.json())
    .then(updateStats)
    .catch(()=>{});
}

loadStats();
</script>

</body>
</html>
